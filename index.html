<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Password Mint - A privacy-first, offline password generator. Create unique strong passwords per site, regenerable anytime. Nothing stored, nothing sent.">
    <meta name="theme-color" content="#10b981">
    <title>Password Mint - Privacy-First Password Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Trust Bar -->
        <div class="trust-bar">
            <span class="trust-item">
                <svg class="trust-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18.36 6.64A9 9 0 0 1 20.77 15M5.64 6.64A9 9 0 0 0 3.23 15"/>
                    <path d="M15.54 9.46A5 5 0 0 1 17.66 15M8.46 9.46A5 5 0 0 0 6.34 15"/>
                    <circle cx="12" cy="15" r="1"/>
                </svg>
                Offline-first
            </span>
            <span class="trust-item">
                <svg class="trust-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                Zero storage
            </span>
            <span class="trust-item">
                <svg class="trust-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                No tracking
            </span>
            <span class="trust-item">
                <svg class="trust-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 18l6-6-6-6M8 6l-6 6 6 6"/>
                </svg>
                Open source
            </span>
        </div>

        <!-- Header -->
        <header class="header">
            <h1 class="logo">
                <span class="logo-icon">üîê</span>
                Password Mint
            </h1>
            <p class="tagline">Fresh, strong passwords ‚Äî generated on demand, remembered by math.</p>
        </header>

        <!-- Main Card -->
        <main class="card">
            <form id="passwordForm" autocomplete="off">
                <!-- Site Input -->
                <div class="form-group form-group-primary">
                    <label for="site">Site or App</label>
                    <input
                        type="text"
                        id="site"
                        placeholder="e.g., amazon, google.com"
                        autocomplete="off"
                        spellcheck="false"
                        aria-describedby="siteHint siteError"
                    >
                    <small class="hint" id="siteHint">"amazon", "Amazon.com", and "https://mail.amazon.com" all produce the same result</small>
                    <small class="field-error" id="siteError" role="alert" aria-live="polite"></small>
                </div>

                <!-- Master Phrase -->
                <div class="form-group form-group-primary">
                    <label for="masterPhrase">Master Phrase</label>
                    <div class="input-with-toggle">
                        <input
                            type="password"
                            id="masterPhrase"
                            placeholder="Your secret phrase"
                            autocomplete="off"
                            spellcheck="false"
                            aria-describedby="masterPhraseHint masterPhraseError"
                        >
                        <button type="button" class="toggle-visibility" id="toggleMasterVisibility" aria-label="Show master phrase">
                            <svg class="eye-icon" id="eyeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                        </button>
                    </div>
                    <small class="hint" id="masterPhraseHint">Use 4+ random words. Capitalization doesn't matter.</small>
                    <small class="field-error" id="masterPhraseError" role="alert" aria-live="polite"></small>
                </div>

                <!-- Generate Button - Moved up for primary flow -->
                <button type="submit" class="btn btn-primary btn-large" id="generateBtn">
                    <span class="btn-text">Generate Password</span>
                    <span class="btn-loader"></span>
                </button>

                <!-- Advanced Options - Collapsed by default -->
                <details class="advanced-options" id="advancedOptions">
                    <summary>
                        <span>Advanced Options</span>
                        <svg class="chevron-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </summary>
                    <div class="advanced-options-content">
                        <!-- Remember Master Phrase -->
                        <div class="form-group remember-section">
                            <label class="checkbox-label warning-checkbox">
                                <input type="checkbox" id="rememberPhrase">
                                <span>Remember phrase for this session</span>
                            </label>
                            <div class="warning-box" id="rememberWarning" style="display: none;">
                                <span>Phrase kept in memory until tab closes.</span>
                                <button type="button" class="btn btn-small btn-ghost" id="forgetNow">Forget</button>
                            </div>
                        </div>

                        <!-- Version -->
                        <div class="form-group">
                            <label for="version">Version</label>
                            <div class="version-input-wrapper">
                                <input
                                    type="number"
                                    id="version"
                                    value="1"
                                    min="1"
                                    max="9999"
                                    aria-describedby="versionHint versionError"
                                >
                                <small class="hint" id="versionHint">Increment to rotate password</small>
                            </div>
                            <small class="field-error" id="versionError" role="alert" aria-live="polite"></small>
                        </div>

                        <!-- Length Slider -->
                        <div class="form-group">
                            <label for="length">Length: <span id="lengthValue">16</span> characters</label>
                            <div class="range-wrapper">
                                <input
                                    type="range"
                                    id="length"
                                    min="12"
                                    max="64"
                                    value="16"
                                >
                                <div class="range-labels">
                                    <span>12</span>
                                    <span>64</span>
                                </div>
                            </div>
                        </div>

                        <!-- Character Options -->
                        <div class="form-group">
                            <label>Character Sets</label>
                            <div class="toggle-grid">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="useUpper" checked>
                                    <span>A-Z</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="useLower" checked>
                                    <span>a-z</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="useDigits" checked>
                                    <span>0-9</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="useSymbols" checked>
                                    <span>!@#$%*</span>
                                </label>
                            </div>
                        </div>

                        <!-- Exclusion Options -->
                        <div class="form-group">
                            <label>Exclude</label>
                            <div class="toggle-grid">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="excludeAmbiguous" checked>
                                    <span>Similar chars (O/0, l/1)</span>
                                </label>
                            </div>
                        </div>

                        <!-- Security Level -->
                        <div class="form-group">
                            <label for="securityLevel">Security Level</label>
                            <select id="securityLevel">
                                <option value="standard" selected>Standard (210k iterations)</option>
                                <option value="high">High (400k iterations)</option>
                            </select>
                        </div>
                    </div>
                </details>
            </form>

            <!-- Output Section -->
            <div class="output-section" id="outputSection" style="display: none;">
                <div class="output-header">
                    <svg class="output-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                    <span>Password Generated</span>
                </div>
                <div class="output-password-wrapper">
                    <input
                        type="password"
                        id="generatedPassword"
                        readonly
                        aria-label="Generated password"
                    >
                    <button type="button" class="toggle-visibility toggle-output-visibility" id="toggleOutputVisibility" aria-label="Show generated password">
                        <svg class="eye-icon" id="outputEyeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </button>
                </div>
                <button type="button" class="btn btn-copy" id="copyBtn">
                    <svg class="copy-icon" id="copyIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                    <span class="copy-text">Copy to Clipboard</span>
                </button>
                <div class="output-meta">
                    <span class="normalized-site" id="normalizedDisplay">
                        Site: <code id="normalizedSite"></code>
                    </span>
                    <span class="auto-clear-notice" id="autoClearNotice">Auto-clears in 5 min</span>
                </div>
                <div class="output-actions">
                    <button type="button" class="btn btn-ghost" id="regenerateBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"/>
                            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                        </svg>
                        Regenerate
                    </button>
                    <button type="button" class="btn btn-ghost" id="clearAllBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"/>
                            <line x1="6" y1="6" x2="18" y2="18"/>
                        </svg>
                        Clear
                    </button>
                </div>
            </div>
        </main>

        <!-- How It Works Accordion -->
        <section class="accordion">
            <button class="accordion-header" id="howItWorksHeader" aria-expanded="false">
                <span>How It Works</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content" id="howItWorksContent">
                <div class="accordion-inner">
                    <h3>The Simple Version</h3>
                    <p>Password Mint uses your master phrase and the site name to mathematically generate a unique password. The same inputs always produce the same output ‚Äî like a secret recipe only you know.</p>

                    <h3>The Technical Version</h3>
                    <ol>
                        <li><strong>Site normalization:</strong> We clean up the URL (remove https://, www., paths, query strings) and lowercase it to ensure consistency.</li>
                        <li><strong>Phrase hardening (deterministic transformation):</strong> We normalize your input (trim, lowercase, collapse spaces), then deterministically capitalize 1-2 words and append a symbol+digit+symbol suffix. This means "My Phrase" and "my phrase" become identical internally, but the final hardened form is more complex.</li>
                        <li><strong>Salt construction:</strong> We combine a fixed prefix, the normalized site, and your version number for rotation.</li>
                        <li><strong>Key derivation:</strong> Using PBKDF2 with SHA-256 and 210,000+ iterations, we derive 64 bytes from your hardened phrase and salt.</li>
                        <li><strong>Password generation:</strong> We map those bytes to your chosen character sets, ensuring at least one character from each selected type, then shuffle deterministically.</li>
                    </ol>
                    <p><strong>Result:</strong> A strong, unique password that can be regenerated anytime with the same inputs. Phrase hardening improves consistency, but you must still choose a strong, unique master phrase ‚Äî avoid common phrases, song lyrics, or personal info.</p>
                </div>
            </div>
        </section>

        <!-- Security Tips -->
        <section class="tips-section">
            <h2>Security Tips</h2>
            <ul class="tips-list">
                <li><strong>Choose a strong, unique master phrase.</strong> Use 4+ random words (e.g., "purple elephant dances tuesday"). Avoid common phrases, song lyrics, quotes, or personal info (names, birthdays).</li>
                <li><strong>Phrase hardening helps with consistency.</strong> We normalize and transform your input, so "My Phrase" and "my phrase" produce the same result ‚Äî but hardening does NOT make a weak phrase strong.</li>
                <li><strong>Your master phrase is the key to everything.</strong> Treat it like a secret only you know.</li>
                <li><strong>Use the Version field for rotation.</strong> If a password is compromised, increment the version for that site to generate a new one.</li>
            </ul>
        </section>

        <!-- FAQ Section -->
        <section class="accordion">
            <button class="accordion-header" id="faqHeader" aria-expanded="false">
                <span>Frequently Asked Questions</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content" id="faqContent">
                <div class="accordion-inner">
                    <div class="faq-item">
                        <h3>What is Password Mint?</h3>
                        <p>A privacy-first password generator that creates unique, strong passwords for each site. Instead of storing passwords, it derives them mathematically from your master phrase and site name ‚Äî regenerate any password anytime, without storing anything.</p>
                    </div>
                    <div class="faq-item">
                        <h3>Is this a password manager?</h3>
                        <p>No. Password managers store encrypted passwords and sync them. Password Mint stores nothing ‚Äî it generates passwords on demand. Think of it as a mathematical recipe rather than a vault.</p>
                    </div>
                    <div class="faq-item">
                        <h3>What should my master phrase be?</h3>
                        <p>Use 4+ random words (e.g., "purple elephant dances tuesday"). Avoid birthdays, names, song lyrics, or common phrases. The phrase should be unique and never used elsewhere.</p>
                    </div>
                    <div class="faq-item">
                        <h3>Does capitalization matter?</h3>
                        <p>No! Phrase hardening normalizes your input. "My Phrase", "my phrase", and "MY PHRASE" all produce the same password. Extra spaces are also ignored.</p>
                    </div>
                    <div class="faq-item">
                        <h3>How do I change a password?</h3>
                        <p>Increment the Version field. Change from 1 to 2, generate the new password, update it on the site, and remember the new version number.</p>
                    </div>
                    <div class="faq-item">
                        <h3>What if I forget my master phrase?</h3>
                        <p>There's no recovery option. You'll need to reset passwords on each site manually. This is the trade-off of zero-storage design.</p>
                    </div>
                    <div class="faq-item">
                        <h3>Can I use this offline?</h3>
                        <p>Yes! Download the files and use them without internet. It works identically online or offline.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Security Model Section -->
        <section class="accordion">
            <button class="accordion-header" id="securityHeader" aria-expanded="false">
                <span>Security Model</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content" id="securityContent">
                <div class="accordion-inner">
                    <div class="faq-item">
                        <h3>How secure is this?</h3>
                        <p>Password Mint uses PBKDF2-SHA256 with 210,000+ iterations (OWASP 2023 recommended). Security depends on your master phrase strength, device security, and behavior.</p>
                    </div>
                    <div class="faq-item">
                        <h3>What does it protect against?</h3>
                        <p><strong>Protected:</strong> Password reuse, database breaches (passwords are unique per site), rainbow tables (site-specific salt), server compromise (no server exists), transit interception (no network requests).</p>
                    </div>
                    <div class="faq-item">
                        <h3>What are the risks?</h3>
                        <p><strong>Not protected:</strong> Master phrase compromise (attacker can regenerate all passwords), keyloggers/malware, phishing, weak master phrases. Treat your master phrase as your most important secret.</p>
                    </div>
                    <div class="faq-item">
                        <h3>Why PBKDF2 instead of Argon2?</h3>
                        <p>Argon2 requires external libraries. PBKDF2 is browser-native via Web Crypto API, requires zero dependencies, and meets OWASP security standards with sufficient iterations.</p>
                    </div>
                    <div class="faq-item">
                        <h3>Can someone reverse my master phrase?</h3>
                        <p>Not practically. PBKDF2 is a one-way function. Brute-forcing would require trying every possible phrase, which is computationally infeasible with a strong master phrase.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="privacy-badge">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                <span>No data leaves your device. Ever.</span>
            </div>
            <p class="credits">
                Built by <a href="https://www.linkedin.com/in/fareedkhankk" target="_blank">Fareed Khan</a>
                <span class="separator">¬∑</span>
                <a href="https://github.com/fareedkhan-27/password-mint" target="_blank">Source</a>
                <span class="separator">¬∑</span>
                <a href="LICENSE" target="_blank">MIT</a>
            </p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
